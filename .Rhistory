require(ggplot2)
?stat_bin2d
require(MockJury)
require(heplots)
data(MockJury)
lm(Years ~ 1, data = MockJury)
p_no <- 42 / 205
p_yes <- 34261
# Wald cis
p_no <- 42 / 205
p_yes <- 34 / 261
p_no + c(-1, 1) * (qnorm(.975) * sqrt(p_no * (1 - p_no) / 205) + .5 / 205)
# Wald cis
p_no <- 42 / 205
p_yes <- 34 / 261
p_no + c(-1, 1) * (qnorm(.975) * sqrt(p_no * (1 - p_no) / 205) + .5 / 205)
p_yes + c(-1, 1) * (qnorm(.975) * sqrt(p_yes * (1 - p_yes) / 261) + .5 / 261)
?prop.test
prop.test(n = 205, p = p_no)
prop.test(x = 42, n = 205)
prop.test(34, 261)
?binom.test
binom.test(34, 261)
binom.test(x = 42, n = 205)
binom.test(x = 42, n = 205)
binom.test(34, 261)
65085/986342
664 / 986342
115 / 986342
56 / 65085
608 / 921257
19 / 65085
96 / 921257
(1 - .05 ^ (1 / 5000))
11/31721
11/31721/5
(11+5+6) / ((31721+34542+19844) * 5) * 100000
46 / 2200
54 / 2600
6/900
(.0067 * 60000 + .0038 * 45000 + .05*20000+.11*15000) / 140000
(.0013 * 60000 + .0063 * 45000 + .02*20000+.076*15000)/140000
require(heplots)
data(MockJury)
boxplot(Years ~ Attr, data = MockJury)
lm1 <- lm(Years ~ Attr, data = MockJury)
summary(lm1)
lm1 <- lm(Years ~ Attr - 1, data = MockJury)
summary(lm1)
lm2 <- lm(Years ~ Attr, data = MockJury)
summary(lm2)
summary(MockJury$Years)
# Wald CIs
p_no <- 42 / 205
p_yes <- 34 / 261
p_no + c(-1, 1) * (qnorm(.975) * sqrt(p_no * (1 - p_no) / 205) + .5 / 205)
p_yes + c(-1, 1) * (qnorm(.975) * sqrt(p_yes * (1 - p_yes) / 261) + .5 / 261)
# score CIs
prop.test(x = 42, n = 205)
prop.test(34, 261)
# exact CIs
binom.test(x = 42, n = 205)
binom.test(34, 261)
11/(31721 ∗ 5) ∗ 100000
1 - (1 - .05) ^(1 / 5000)
devtools::install_github("lmullen/cartographer", build_vignettes = TRUE)
library(cartographer)
cartographer(region = "united states") %>%
tile_layer()
cartographer(region = "africa") %>%
tile_layer()
cartographer(region = "liberia") %>%
tile_layer()
?boxplot
data(InsectSprays)
?InsectSprays
head(InsectSprays)
summary(InsectSprays)
boxplot(count ~ spray, data = InsectSprays)
require(dplyr)
is <- InsectSprays %>% tbl_df()
is %>% group_by(spray) %>% summarise(mean(count), sd(count))
is %>% group_by(spray) %>% summarise(mean(count), sd(log(count)))
summary(InsectSprays)
is
InsectSprays
p_no <- 42 / 205
p_yes <- 34 / 261
p_no + c(-1, 1) * (qnorm(.975) * sqrt(p_no * (1 - p_no) / 205) + .5 / 205)
p_yes + c(-1, 1) * (qnorm(.975) * sqrt(p_yes * (1 - p_yes) / 261) + .5 / 261)
prop.test(x = 42, n = 205)
prop.test(34, 261)
# exact CIs
binom.test(x = 42, n = 205)
binom.test(34, 261)
c(31721,33955,6910,8078) * c(7.4,3.6,39.2,19.8)
sum(c(31721,33955,6910,8078) * c(7.4,3.6,39.2,19.8)) / 100000
7.4*31721/100000
sum(c(31721,33955,6910,8078) * c(7.4,3.6,39.2,19.8)) / 100000*5
75 / 39.39
(4*3+10*7+6*5) / (4+10+6)
??InsectSprays
data(InsectSprays)
sprays <- InsectSprays[InsectSprays$count != 0, ]
boxplot(count ~ spray, data = sprays)
boxplot(log(count) ~ spray, data = sprays)
data(InsectSprays)  # load the data
boxplot(count ~ spray, data = InsectSprays)
lm1 <- lm(count ~ spray, data = InsectSprays)
summary(lm1)
lm2 <- lm(count ~ spray, data = InsectSprays)
summary(lm2)
require(slidify)
setwd("temp")
author("ts", use_git = F)
slidify("index.RMd")
browseURL("index.html")
slidify("index.RMd")
slidify("index.RMd")
setwd("..")
author("ts2", use_git= F)
slidify("index.RMd")
slidify("index.RMd")
browseURL("index.html")
setwd("~/")
library(highlight)
library(highlightr)
require(slidify)
setwd("~/Teaching/Stat-217/Spring-15/Ch2")
setwd("~/Teaching/Stat-217/Spring-15/Ch-2")
author("One-Way-Anova-act", use_git = F)
act <- read.table("ACTscores.txt", header = T, sep = "\t")
act
require(tidyr)
gather(act, act, Sport)
require(dplyr)
act %>% gather(Sport, ACT) %>% filter(!is.na(ACT))
act %>% gather(Sport, ACT) %>% filter(!is.na(ACT)) %>% write.csv(file = "act-scores.txt", quote = F, row.names = F)
act %>% gather(Sport, ACT) %>% filter(!is.na(ACT)) %>% write.csv(file = "act-scores.csv", quote = F, row.names = F)
act <- read.csv("act-scores.csv")
act
slidify("index.Rmd")
browseURL("index.html")
slidify("index.Rmd")
slidify("index.Rmd")
act.vis <- act
act.vis[8,3] <- ""
kable(act.vis, format = "html")
slidify("index.Rmd")
slidify("index.Rmd")
act
kable(act, format = "markdown")
slidify("index.Rmd")
spread(Sport, ACT)
act %>%
spread(Sport, ACT)
?spread
df <- data.frame(x = c("a", "b"), y = c(3, 4), z = c(5, 6))\
df <- data.frame(x = c("a", "b"), y = c(3, 4), z = c(5, 6))
df
df %>% spread(x, y)
stocks <- data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocksm <- stocks %>% gather(stock, price, -time)
head(stocksm)
stocksm %>% spread(stock, price)
act
act %>%
rbind_list(data.frame(Sport = "Football"), ACT = "") %>%
spread(Sport, ACT)
act %>%
rbind_list(data.frame(Sport = "Football"), ACT = "")
Football = c(22, 21, 24, 27, 19, 23, 17, ""))
to_print <- data.frame(Baseball = c(25, 22, 19, 25, 24, 25, 24, 23),
Non.athletes = c(21, 27, 29, 26, 30, 27, 26, 23),
Football = c(22, 21, 24, 27, 19, 23, 17, ""))
to_print
to_print <- data.frame(Baseball = c(25, 22, 19, 25, 24, 25, 24, 23),
Non.athletes = c(21, 27, 29, 26, 30, 27, 26, 23),
Football = c(22, 21, 24, 27, 19, 23, 17, ""))
kable(to_print, format = "markdown")
slidify("index.Rmd")
?kable
to_print <- data.frame(Baseball = c(25, 22, 19, 25, 24, 25, 24, 23),
Non.athletes = c(21, 27, 29, 26, 30, 27, 26, 23),
Football = c(22, 21, 24, 27, 19, 23, 17, ""))
kable(to_print, format = "markdown", align = "c")
slidify("index.Rmd")
to_print <- data.frame(Baseball = c(25, 22, 19, 25, 24, 25, 24, 23),
Non.athletes = c(21, 27, 29, 26, 30, 27, 26, 23),
Football = c(22, 21, 24, 27, 19, 23, 17, ""))
kable(to_print, format = "html", align = "c")
slidify("index.Rmd")
to_print <- data.frame(Baseball = c(25, 22, 19, 25, 24, 25, 24, 23),
Non.athletes = c(21, 27, 29, 26, 30, 27, 26, 23),
Football = c(22, 21, 24, 27, 19, 23, 17, ""))
kable(to_print, format = "html", align = "c")
library(xtable)
to_print <- data.frame(Baseball = c(25, 22, 19, 25, 24, 25, 24, 23),
Non.athletes = c(21, 27, 29, 26, 30, 27, 26, 23),
Football = c(22, 21, 24, 27, 19, 23, 17, ""))
kable(to_print, format = "html", align = "c")
?xtable
library(xtable)
to_print <- data.frame(Baseball = c(25, 22, 19, 25, 24, 25, 24, 23),
Non.athletes = c(21, 27, 29, 26, 30, 27, 26, 23),
Football = c(22, 21, 24, 27, 19, 23, 17, ""))
xtable(to_print)
library(stargazer)
to_print <- data.frame(Baseball = c(25, 22, 19, 25, 24, 25, 24, 23),
Non.athletes = c(21, 27, 29, 26, 30, 27, 26, 23),
Football = c(22, 21, 24, 27, 19, 23, 17, ""))
kable(to_print, format = "markdown", align = "c")
slidify("index.Rmd")
boxplot(ACT ~ Sport, data = act)
lm2 <- lm(count ~ spray, data = InsectSprays)
summary(lm2)
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
lm2 <- lm(count ~ spray, data = InsectSprays)
summary(lm2)
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
anova(lm1)
anova(lm2)
length(seq(.05, 6, by = .05))
library(ggplot2)
dat <- dplyr::data_frame(f = seq(.05, 6, by = .05),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120, rep(10, 240), rep(111, 120))))
c(rep(2, 240), rep(6, 240))
c(rep(111, 120, rep(10, 240), rep(111, 120))
library(ggplot2)
dat <- dplyr::data_frame(f = seq(.05, 6, by = .05),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120), rep(10, 240), rep(111, 120)))
library(ggplot2)
dat <- dplyr::data_frame(f = rep(seq(.05, 6, by = .05), 4),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120), rep(10, 240), rep(111, 120)))
dat
tail(dat)
library(ggplot2)
dat <- dplyr::data_frame(f = rep(seq(.05, 6, by = .05), 4),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120), rep(10, 240), rep(111, 120)),
density = df(f, num_df, denom_df))
library(ggplot2)
dat <- dplyr::data_frame(f = rep(seq(.05, 6, by = .05), 4),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120), rep(10, 240), rep(111, 120)),
density = df(f, num_df, denom_df),
lab = paste0("F(", num_df, ", ", denom_df, ")"))
qplot(f, density, data = dat, geom = "line", colour = )
dat
library(ggplot2)
dat <- dplyr::data_frame(f = rep(seq(.05, 6, by = .05), 4),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120), rep(10, 240), rep(111, 120)),
density = df(f, num_df, denom_df),
lab = paste0("F(", num_df, ", ", denom_df, ")"))
qplot(f, density, data = dat, geom = "line", colour = lab)
library(ggplot2)
dat <- dplyr::data_frame(f = rep(seq(.05, 6, by = .05), 4),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120), rep(10, 240), rep(111, 120)),
density = df(f, num_df, denom_df),
lab = paste0("F(", num_df, ", ", denom_df, ")"))
qplot(f, density, data = dat, geom = "line", colour = lab, facets = ~lab)
library(ggplot2)
library(ggthemes)
dat <- dplyr::data_frame(f = rep(seq(.05, 6, by = .05), 4),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120), rep(10, 240), rep(111, 120)),
density = df(f, num_df, denom_df),
lab = paste0("F(", num_df, ", ", denom_df, ")"))
qplot(f, density, data = dat, geom = "line", colour = lab, facets = ~lab) +
theme_hc() +
scale_colour_hc()
library(ggplot2)
library(ggthemes)
dat <- dplyr::data_frame(f = rep(seq(.05, 6, by = .05), 4),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120), rep(10, 240), rep(111, 120)),
density = df(f, num_df, denom_df),
lab = paste0("F(", num_df, ", ", denom_df, ")"))
qplot(f, density, data = dat, geom = "line", colour = lab, facets = ~lab) +
theme_hc() +
scale_colour_hc(guide = F)
slidify("index.Rmd")
slidify("index.Rmd")
library(ggplot2)
library(ggthemes)
dat <- dplyr::data_frame(f = rep(seq(.05, 6, by = .05), 4),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120), rep(10, 240), rep(111, 120)),
density = df(f, num_df, denom_df),
lab = paste0("F(", num_df, ", ", denom_df, ")"))
ggplot(dat, aes(x = f, y = density, colour = lab)) +
geom_line(size = I(2)) +
facet_wrap(lab) +
theme_hc() +
scale_colour_hc(guide = F)
library(ggplot2)
library(ggthemes)
dat <- dplyr::data_frame(f = rep(seq(.05, 6, by = .05), 4),
num_df = c(rep(2, 240), rep(6, 240)),
denom_df = c(rep(111, 120), rep(10, 240), rep(111, 120)),
density = df(f, num_df, denom_df),
lab = paste0("F(", num_df, ", ", denom_df, ")"))
ggplot(dat, aes(x = f, y = density, colour = lab)) +
geom_line(size = I(2)) +
facet_wrap(~lab) +
theme_hc() +
scale_colour_hc(guide = F)
slidify("index.Rmd")
anova(lm1)
qplot(rf(1000, 5, 66))
qplot(rf(1000, 5, 66)) + xlim(0, 34)
qplot(rf(1000, 5, 66), binwidth = 1) +
geom_vline(aes(xintercept = 34.7), colour = "red", size = 2) +
xlab("F") + ggtitle("F(5,66)") + theme_bw()
ggplot(aes(x = rf(1000, 5, 66))) +
geom_histogram(binwidth = .5, colour = "darkgreen", fill = "grey") +
geom_vline(aes(xintercept = 34.7), colour = "red", size = 2) +
xlab("F") + ggtitle("F(5,66)") + theme_bw()
ggplot() +
geom_histogram(aes(rf(1000, 5, 66)), binwidth = .5, colour = "darkgreen", fill = "grey") +
geom_vline(aes(xintercept = 34.7), colour = "red", size = 2) +
xlab("F") + ggtitle("F(5,66)") + theme_bw()
?pf
pf(34.7, 5, 66, lower.tail = F)
slidify("index.Rmd")
slidify("index.Rmd")
anova(lm2)
ggplot() +
geom_histogram(aes(rf(1000, 2, 20)), binwidth = .5, colour = "darkgreen", fill = "grey") +
geom_vline(aes(xintercept = 4.56), colour = "red", size = 2) +
xlab("F") + ggtitle("F(5,66)") + theme_bw()
ggplot() +
geom_histogram(aes(rf(1000, 2, 20)), binwidth = .5, colour = "darkgreen", fill = "white") +
geom_vline(aes(xintercept = 4.56), colour = "red", size = 2) +
xlab("F") + ggtitle("F(5,66)") + theme_bw()
dat2 <- data_frame(f = seq(.05, 6, by = .05),
density = df(f, 2, 20))
ggplot(dat2, aes(f, density)) +
geom_line(aes(rf(1000, 2, 20)), binwidth = .5, colour = "darkgreen", fill = "white") +
geom_vline(aes(xintercept = 4.56), colour = "red", size = 2) +
xlab("F") + ggtitle("F(5,66)") + theme_bw()
dat2 <- data_frame(f = seq(.05, 6, by = .05),
density = df(f, 2, 20))
ggplot(dat2, aes(f, density)) +
geom_line(colour = "darkgreen") +
geom_vline(aes(xintercept = 4.56), colour = "red", size = 2) +
xlab("F") + ggtitle("F(5,66)") + theme_bw()
dat2 <- data_frame(f = seq(.05, 6, by = .05),
density = df(f, 2, 20))
ggplot(dat2, aes(f, density)) +
geom_line(colour = "darkgreen") +
geom_vline(aes(xintercept = 4.56), colour = "red", size = 2) +
xlab("F") + ggtitle("F(2,20)") + theme_bw()
anova(lm2)
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
20*7.78
anova(lm2)
slidify("index.RMd")
slidify("index.RMd")
